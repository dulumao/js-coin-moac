import 'js-node-assist'
import 'babel-polyfill'
import ParityRpcUtil from 'js-coin-eth/lib/parity_rpc'
import CommonUtil from 'p-js-utils/lib/common'
import WalletHelper from "../src/wallet";

declare global {
  namespace NodeJS {
    interface Global {
      logger: any;
    }
  }
}


CommonUtil.startAsync(async () => {
  const helper = ParityRpcUtil.getParityApiHelper(`http://35.229.210.255:8545`)
  // const wallet = new WalletHelper()
  // const result = await wallet.getTokenBalance(helper, `0x4c6007cea426e543551f2cb6392e6d6768f74706`, `0xc2ff9108b104f1ab4c780b5ca31422ba20ac1b47`)
  // global.logger.error(result)
  const result = await helper.eth.sendRawTransaction(`0xf8ae0c808504a817c800830dbba0944c6007cea426e543551f2cb6392e6d6768f7470680b844a9059cbb000000000000000000000000535dfb7ffc2f4db90564316f4604b51b0cbcf72b00000000000000000000000000000000000000000000000000038d7ea4c68000808081e9a0c602f572cc3d1cbe3bb043612e3fac4acb2367901033a9322535ed161a308d8ba02945ff823bafa34a733451ee4e5d4cc8077824d1e56b0c6244900f987603f5fe`)
  global.logger.error(result)
}, null, false, true)

// 0xf8ab0b8504a817c800830dbba0944c6007cea426e543551f2cb6392e6d6768f7470680b844a9059cbb000000000000000000000000535dfb7ffc2f4db90564316f4604b51b0cbcf72b00000000000000000000000000000000000000000000000000038d7ea4c6800081eaa0fafc69e1a34e1b324a3c65ff0505ee5c085af4af8a6ec6d76dfc030cfd191bc2a0399d922ab9f0519af8c8dd20475dded7fbe101d97cdca89b3c616723b83705eb
// 0xf8ab0b  8504a817c800830dbba0944c6007cea426e543551f2cb6392e6d6768f7470680b844a9059cbb000000000000000000000000535dfb7ffc2f4db90564316f4604b51b0cbcf72b00000000000000000000000000000000000000000000000000038d7ea4c68000    81eaa0fafc69e1a34e1b324a3c65ff0505ee5c085af4af8a6ec6d76dfc030cfd191bc2a0399d922ab9f0519af8c8dd20475dded7fbe101d97cdca89b3c616723b83705eb
// 0xf8ae0b808504a817c800830dbba0944c6007cea426e543551f2cb6392e6d6768f7470680b844a9059cbb000000000000000000000000535dfb7ffc2f4db90564316f4604b51b0cbcf72b00000000000000000000000000000000000000000000000000038d7ea4c68000808081eaa0ece5c75ce17d07b6d8945b42da531f001d8922f4eb737d954c19ba9b26de1b9fa06953640dd6d20c162176111f83c7547b490cecd9be98dc136c51910895815f40